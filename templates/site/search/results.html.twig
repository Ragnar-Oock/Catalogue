{% extends "base.html.twig" %}

{% block main %}
<table class="results table">
	<thead class="results_head">
		<th class="results_head__label">Titre</th>
		<th class="results_head__label">Auteur</th>
		<th class="results_head__label">Editeur(s)</th>
		<th class="results_head__label">Type de document</th>
		<th class="results_head__label">Date d'Ã©dition</th>
	</thead>
	<tbody>
	{% for result in resultList %}
	{# <pre>
		{{ dump(result) }}
	</pre> #}
		<tr class="result_item">
			<td class="result_item__title"><a href="{{ path('explore_edition', {'edition': result.id}) }}" title="Voir plus d'informations">{{ result.document.title }}</a></td>
			<td class="result_item__author">
				{% if result.writers is not empty %}
					{% for writer in result.writers %}
						<a href="{{ path('explore_author', {'author': writer.author.id}) }}" title="Voir la bibliographie de cet auteur">{{ writer.author.name }}</a>
					{% endfor %}
					{# {% if result.authors|length>1 %}
					<span>Ce document a d'autres auteurs, visitez sa fiche pour les voir</span>
					{% endif %}				 #}
				{% endif %}
			</td>
			<td class="result_item__editeur">
				{% if result.editor is not empty %}
					<a href="{{ path('editor_show', {'id': result.editor.id}) }}" title="Voir la bibliographie de cet editeur">{{ result.editor.name }}</a>
				{% endif %}
			<td class="result_item__type">{{ result.type.title }}</td>
			<td class="result_item__date">{{ result.publishedAt|date("d/m/Y") }}</td>
		</tr>
	{% endfor %}
	</tbody>
</table>

<div class="d-flex justify-content-center">
	{{ knp_pagination_render(resultList) }}
</div>
{% endblock %}